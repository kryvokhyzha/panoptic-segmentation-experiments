from mmdet.datasets.api_wrappers import COCOPanoptic
from mmdet.datasets.coco_panoptic import CocoPanopticDataset
from mmdet.registry import DATASETS


@DATASETS.register_module()
class CityscapesPanopticDataset(CocoPanopticDataset):
    METAINFO = {
        "classes": (
            "unlabeled",
            "ego vehicle",
            "rectification border",
            "out of roi",
            "static",
            "dynamic",
            "ground",
            "road",
            "sidewalk",
            "parking",
            "rail track",
            "building",
            "wall",
            "fence",
            "guard rail",
            "bridge",
            "tunnel",
            "pole",
            "polegroup",
            "traffic light",
            "traffic sign",
            "vegetation",
            "terrain",
            "sky",
            "person",
            "rider",
            "car",
            "truck",
            "bus",
            "caravan",
            "trailer",
            "train",
            "motorcycle",
            "bicycle",
            "license plate",
        ),
        "thing_classes": tuple(),
        "stuff_classes": tuple(),
        "palette": [
            (0, 0, 0),
            (0, 0, 0),
            (0, 0, 0),
            (0, 0, 0),
            (0, 0, 0),
            (111, 74, 0),
            (81, 0, 81),
            (128, 64, 128),
            (244, 35, 232),
            (250, 170, 160),
            (230, 150, 140),
            (70, 70, 70),
            (102, 102, 156),
            (190, 153, 153),
            (180, 165, 180),
            (150, 100, 100),
            (150, 120, 90),
            (153, 153, 153),
            (153, 153, 153),
            (250, 170, 30),
            (220, 220, 0),
            (107, 142, 35),
            (152, 251, 152),
            (70, 130, 180),
            (220, 20, 60),
            (255, 0, 0),
            (0, 0, 142),
            (0, 0, 70),
            (0, 60, 100),
            (0, 0, 90),
            (0, 0, 110),
            (0, 80, 100),
            (0, 0, 230),
            (119, 11, 32),
            (0, 0, 142),
        ],
    }
    COCOAPI = COCOPanoptic
    # ann_id is not unique in coco panoptic dataset.
    ANN_ID_UNIQUE = False
